package com.dburyak.vertx.core.config

import spock.lang.Specification
import spock.lang.Unroll

class MemoryTypeConverterSpec extends Specification {

    def converter = new MemoryTypeConverter()

    @Unroll
    def 'converts int #expMem string to memory'() {
        when:
        def mem = converter.convert(str, Memory)

        then:
        mem.isPresent()
        mem.get() == expMem

        where:
        str             || expMem
        '123b'          || Memory.ofBytes(123)
        '123 b'         || Memory.ofBytes(123)
        '123B'          || Memory.ofBytes(123)
        '123 B'         || Memory.ofBytes(123)
        '123byte'       || Memory.ofBytes(123)
        '123 byte'      || Memory.ofBytes(123)
        '123Byte'       || Memory.ofBytes(123)
        '123 Byte'      || Memory.ofBytes(123)
        '123BYTE'       || Memory.ofBytes(123)
        '123 BYTE'      || Memory.ofBytes(123)
        '123bytes'      || Memory.ofBytes(123)
        '123 bytes'     || Memory.ofBytes(123)
        '123Bytes'      || Memory.ofBytes(123)
        '123 Bytes'     || Memory.ofBytes(123)
        '123BYTES'      || Memory.ofBytes(123)
        '123 BYTES'     || Memory.ofBytes(123)

        '123k'          || Memory.ofKb(123)
        '123 k'         || Memory.ofKb(123)
        '123K'          || Memory.ofKb(123)
        '123 K'         || Memory.ofKb(123)
        '123kb'         || Memory.ofKb(123)
        '123 kb'        || Memory.ofKb(123)
        '123Kb'         || Memory.ofKb(123)
        '123 Kb'        || Memory.ofKb(123)
        '123KB'         || Memory.ofKb(123)
        '123 KB'        || Memory.ofKb(123)
        '123kilobyte'   || Memory.ofKb(123)
        '123 kilobyte'  || Memory.ofKb(123)
        '123Kilobyte'   || Memory.ofKb(123)
        '123 Kilobyte'  || Memory.ofKb(123)
        '123KILOBYTE'   || Memory.ofKb(123)
        '123 KILOBYTE'  || Memory.ofKb(123)
        '123kilobytes'  || Memory.ofKb(123)
        '123 kilobytes' || Memory.ofKb(123)
        '123Kilobytes'  || Memory.ofKb(123)
        '123 Kilobytes' || Memory.ofKb(123)
        '123KILOBYTES'  || Memory.ofKb(123)
        '123 KILOBYTES' || Memory.ofKb(123)

        '123m'          || Memory.ofMb(123)
        '123 m'         || Memory.ofMb(123)
        '123M'          || Memory.ofMb(123)
        '123 M'         || Memory.ofMb(123)
        '123mb'         || Memory.ofMb(123)
        '123 mb'        || Memory.ofMb(123)
        '123Mb'         || Memory.ofMb(123)
        '123 Mb'        || Memory.ofMb(123)
        '123MB'         || Memory.ofMb(123)
        '123 MB'        || Memory.ofMb(123)
        '123megabyte'   || Memory.ofMb(123)
        '123 megabyte'  || Memory.ofMb(123)
        '123Megabyte'   || Memory.ofMb(123)
        '123 Megabyte'  || Memory.ofMb(123)
        '123MEGABYTE'   || Memory.ofMb(123)
        '123 MEGABYTE'  || Memory.ofMb(123)
        '123megabytes'  || Memory.ofMb(123)
        '123 megabytes' || Memory.ofMb(123)
        '123Megabytes'  || Memory.ofMb(123)
        '123 Megabytes' || Memory.ofMb(123)
        '123MEGABYTES'  || Memory.ofMb(123)
        '123 MEGABYTES' || Memory.ofMb(123)

        '123g'          || Memory.ofGb(123)
        '123 g'         || Memory.ofGb(123)
        '123G'          || Memory.ofGb(123)
        '123 G'         || Memory.ofGb(123)
        '123gb'         || Memory.ofGb(123)
        '123 gb'        || Memory.ofGb(123)
        '123Gb'         || Memory.ofGb(123)
        '123 Gb'        || Memory.ofGb(123)
        '123GB'         || Memory.ofGb(123)
        '123 GB'        || Memory.ofGb(123)
        '123gigabyte'   || Memory.ofGb(123)
        '123 gigabyte'  || Memory.ofGb(123)
        '123Gigabyte'   || Memory.ofGb(123)
        '123 Gigabyte'  || Memory.ofGb(123)
        '123GIGABYTE'   || Memory.ofGb(123)
        '123 GIGABYTE'  || Memory.ofGb(123)
        '123gigabytes'  || Memory.ofGb(123)
        '123 gigabytes' || Memory.ofGb(123)
        '123Gigabytes'  || Memory.ofGb(123)
        '123 Gigabytes' || Memory.ofGb(123)
        '123GIGABYTES'  || Memory.ofGb(123)
        '123 GIGABYTES' || Memory.ofGb(123)

        '123t'          || Memory.ofTb(123)
        '123 t'         || Memory.ofTb(123)
        '123T'          || Memory.ofTb(123)
        '123 T'         || Memory.ofTb(123)
        '123tb'         || Memory.ofTb(123)
        '123 tb'        || Memory.ofTb(123)
        '123Tb'         || Memory.ofTb(123)
        '123 Tb'        || Memory.ofTb(123)
        '123TB'         || Memory.ofTb(123)
        '123 TB'        || Memory.ofTb(123)
        '123terabyte'   || Memory.ofTb(123)
        '123 terabyte'  || Memory.ofTb(123)
        '123Terabyte'   || Memory.ofTb(123)
        '123 Terabyte'  || Memory.ofTb(123)
        '123TERABYTE'   || Memory.ofTb(123)
        '123 TERABYTE'  || Memory.ofTb(123)
        '123terabytes'  || Memory.ofTb(123)
        '123 terabytes' || Memory.ofTb(123)
        '123Terabytes'  || Memory.ofTb(123)
        '123 Terabytes' || Memory.ofTb(123)
        '123TERABYTES'  || Memory.ofTb(123)
        '123 TERABYTES' || Memory.ofTb(123)
    }

    @Unroll
    def 'converts fractional #expMem string to memory'() {
        when:
        def mem = converter.convert(str, Memory)

        then:
        mem.isPresent()
        mem.get() == expMem

        where:
        str              || expMem
        '4.32k'          || Memory.ofKb(4.32)
        '4.32 k'         || Memory.ofKb(4.32)
        '4.32K'          || Memory.ofKb(4.32)
        '4.32 K'         || Memory.ofKb(4.32)
        '4.32kb'         || Memory.ofKb(4.32)
        '4.32 kb'        || Memory.ofKb(4.32)
        '4.32Kb'         || Memory.ofKb(4.32)
        '4.32 Kb'        || Memory.ofKb(4.32)
        '4.32KB'         || Memory.ofKb(4.32)
        '4.32 KB'        || Memory.ofKb(4.32)
        '4.32kilobyte'   || Memory.ofKb(4.32)
        '4.32 kilobyte'  || Memory.ofKb(4.32)
        '4.32Kilobyte'   || Memory.ofKb(4.32)
        '4.32 Kilobyte'  || Memory.ofKb(4.32)
        '4.32KILOBYTE'   || Memory.ofKb(4.32)
        '4.32 KILOBYTE'  || Memory.ofKb(4.32)
        '4.32kilobytes'  || Memory.ofKb(4.32)
        '4.32 kilobytes' || Memory.ofKb(4.32)
        '4.32Kilobytes'  || Memory.ofKb(4.32)
        '4.32 Kilobytes' || Memory.ofKb(4.32)
        '4.32KILOBYTES'  || Memory.ofKb(4.32)
        '4.32 KILOBYTES' || Memory.ofKb(4.32)

        '4.32m'          || Memory.ofMb(4.32)
        '4.32 m'         || Memory.ofMb(4.32)
        '4.32M'          || Memory.ofMb(4.32)
        '4.32 M'         || Memory.ofMb(4.32)
        '4.32mb'         || Memory.ofMb(4.32)
        '4.32 mb'        || Memory.ofMb(4.32)
        '4.32Mb'         || Memory.ofMb(4.32)
        '4.32 Mb'        || Memory.ofMb(4.32)
        '4.32MB'         || Memory.ofMb(4.32)
        '4.32 MB'        || Memory.ofMb(4.32)
        '4.32megabyte'   || Memory.ofMb(4.32)
        '4.32 megabyte'  || Memory.ofMb(4.32)
        '4.32Megabyte'   || Memory.ofMb(4.32)
        '4.32 Megabyte'  || Memory.ofMb(4.32)
        '4.32MEGABYTE'   || Memory.ofMb(4.32)
        '4.32 MEGABYTE'  || Memory.ofMb(4.32)
        '4.32megabytes'  || Memory.ofMb(4.32)
        '4.32 megabytes' || Memory.ofMb(4.32)
        '4.32Megabytes'  || Memory.ofMb(4.32)
        '4.32 Megabytes' || Memory.ofMb(4.32)
        '4.32MEGABYTES'  || Memory.ofMb(4.32)
        '4.32 MEGABYTES' || Memory.ofMb(4.32)

        '4.32g'          || Memory.ofGb(4.32)
        '4.32 g'         || Memory.ofGb(4.32)
        '4.32G'          || Memory.ofGb(4.32)
        '4.32 G'         || Memory.ofGb(4.32)
        '4.32gb'         || Memory.ofGb(4.32)
        '4.32 gb'        || Memory.ofGb(4.32)
        '4.32Gb'         || Memory.ofGb(4.32)
        '4.32 Gb'        || Memory.ofGb(4.32)
        '4.32GB'         || Memory.ofGb(4.32)
        '4.32 GB'        || Memory.ofGb(4.32)
        '4.32gigabyte'   || Memory.ofGb(4.32)
        '4.32 gigabyte'  || Memory.ofGb(4.32)
        '4.32Gigabyte'   || Memory.ofGb(4.32)
        '4.32 Gigabyte'  || Memory.ofGb(4.32)
        '4.32GIGABYTE'   || Memory.ofGb(4.32)
        '4.32 GIGABYTE'  || Memory.ofGb(4.32)
        '4.32gigabytes'  || Memory.ofGb(4.32)
        '4.32 gigabytes' || Memory.ofGb(4.32)
        '4.32Gigabytes'  || Memory.ofGb(4.32)
        '4.32 Gigabytes' || Memory.ofGb(4.32)
        '4.32GIGABYTES'  || Memory.ofGb(4.32)
        '4.32 GIGABYTES' || Memory.ofGb(4.32)

        '4.32t'          || Memory.ofTb(4.32)
        '4.32 t'         || Memory.ofTb(4.32)
        '4.32T'          || Memory.ofTb(4.32)
        '4.32 T'         || Memory.ofTb(4.32)
        '4.32tb'         || Memory.ofTb(4.32)
        '4.32 tb'        || Memory.ofTb(4.32)
        '4.32Tb'         || Memory.ofTb(4.32)
        '4.32 Tb'        || Memory.ofTb(4.32)
        '4.32TB'         || Memory.ofTb(4.32)
        '4.32 TB'        || Memory.ofTb(4.32)
        '4.32terabyte'   || Memory.ofTb(4.32)
        '4.32 terabyte'  || Memory.ofTb(4.32)
        '4.32Terabyte'   || Memory.ofTb(4.32)
        '4.32 Terabyte'  || Memory.ofTb(4.32)
        '4.32TERABYTE'   || Memory.ofTb(4.32)
        '4.32 TERABYTE'  || Memory.ofTb(4.32)
        '4.32terabytes'  || Memory.ofTb(4.32)
        '4.32 terabytes' || Memory.ofTb(4.32)
        '4.32Terabytes'  || Memory.ofTb(4.32)
        '4.32 Terabytes' || Memory.ofTb(4.32)
        '4.32TERABYTES'  || Memory.ofTb(4.32)
        '4.32 TERABYTES' || Memory.ofTb(4.32)
    }
}
